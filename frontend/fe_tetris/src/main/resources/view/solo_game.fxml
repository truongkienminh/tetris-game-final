<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.canvas.Canvas?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.StackPane?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.kienminh.controller.SoloGameController"
            prefWidth="800" prefHeight="600"
            style="-fx-background-color: linear-gradient(to bottom, #1e3c72, #2a5298);">

    <!-- Thanh trên cùng: thông tin game -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="20"
              style="-fx-background-color: white; -fx-background-radius: 0 0 20 20;">
            <padding>
                <Insets top="15" right="15" bottom="15" left="15"/>
            </padding>
            <Label fx:id="scoreLabel" text="Score: 0"
                   style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
            <Label fx:id="levelLabel" text="Level: 1"
                   style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
            <Label fx:id="statusLabel" text="Status: PLAYING"
                   style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
        </HBox>
    </top>

    <!-- Trung tâm: Board + Thông tin bên phải -->
    <center>
        <HBox spacing="20" alignment="CENTER" padding="20">

            <!-- Canvas chính: Board -->
            <StackPane style="-fx-border-color: white; -fx-border-width: 3;">
                <Canvas fx:id="gameCanvas" width="300" height="500"
                        style="-fx-background-color: black;"/>
            </StackPane>

            <!-- Vùng thông tin + Next Block -->
            <VBox spacing="20" alignment="TOP_CENTER" prefWidth="200">

                <!-- Current Block -->
                <Label fx:id="currentBlockLabel" text="Current: -"
                       style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: white;"/>

                <!-- Next Block canvas -->
                <StackPane style="-fx-border-color: white; -fx-border-width: 2; -fx-background-color: black; -fx-background-radius: 10;">
                    <Canvas fx:id="nextBlockCanvas" width="100" height="100"/>
                </StackPane>

                <!-- Next Block Label -->
                <Label fx:id="nextBlockLabel" text="Next: -"
                       style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: white;"/>

                <!-- Nút Play Again -->
                <Button fx:id="playAgainButton"
                        text="▶ Chơi lại"
                        visible="false"
                        onAction="#onPlayAgain"
                        style="-fx-background-color: #5cb85c; -fx-text-fill: white; -fx-font-size: 15px; -fx-background-radius: 10;"/>

                <!-- Hướng dẫn -->
                <VBox spacing="5" alignment="CENTER">
                    <Label text="Điều khiển:" style="-fx-font-size: 14px; -fx-text-fill: white;"/>
                    <Label text="← → : Di chuyển | ↑ : Xoay | ↓ : Rơi nhanh | Space: Drop"
                           style="-fx-font-size: 13px; -fx-text-fill: white;"/>
                </VBox>
            </VBox>
        </HBox>
    </center>

    <!-- Thanh dưới cùng: nút quay lại menu -->
    <bottom>
        <HBox alignment="CENTER_RIGHT">
            <padding>
                <Insets top="15" right="15" bottom="15" left="15"/>
            </padding>
            <Button text="⬅ Quay lại Menu"
                    onAction="#onBack"
                    style="-fx-background-color: #d9534f; -fx-text-fill: white; -fx-font-size: 15px; -fx-background-radius: 10;"/>
        </HBox>
    </bottom>

</BorderPane>
